# â¡ï¸ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø°ÙŠ Ø³ÙŠØ¸Ù‡Ø± ÙÙŠ ØªØ¨ÙˆÙŠØ¨ Actions
name: Flutter CI Pipeline

# ğŸ”¹ on (Triggers)
# ğŸ“Œ ÙŠØ¹Ù†ÙŠ:

# Ø£ÙŠ push Ø¹Ù„Ù‰ main

# Ø£ÙŠ pull request Ø¥Ù„Ù‰ main
# â¡ï¸ ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù€ CI
on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

# ğŸ”¹ jobs (Ø§Ù„Ù…Ù‡Ø§Ù…)
# ğŸ“Œ ÙŠØ¹Ù†ÙŠ:

# â¡ï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ù‡Ù…Ø©
# â¡ï¸ ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ù‡Ù…Ø© Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² Ubuntu
# â¡ï¸ Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø§Ù„Ø£ÙˆØ§Ù…Ø±
# Ø§Ø³Ù… Ø§Ù„Ù€ Job

# ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† Job Ù„Ø§Ø­Ù‚Ù‹Ø§
jobs:
  flutter-ci:
    runs-on: ubuntu-latest
    #GitHub ÙŠÙˆÙØ± Ø¬Ù‡Ø§Ø² Ø§ÙØªØ±Ø§Ø¶ÙŠ:
    # Linux
    # Ù†Ø¸ÙŠÙ
    # Ù„Ø§ ÙŠÙˆØ¬Ø¯ Flutter Ù…Ø«Ø¨Øª Ù…Ø³Ø¨Ù‚Ù‹Ø§

    steps:
      # 1ï¸âƒ£ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
      #ğŸ“Œ Ø¨Ø¯ÙˆÙ† Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ©:
      # Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙƒÙˆØ¯
      # CI Ø³ÙŠÙØ´Ù„ ÙÙˆØ±Ù‹Ø§
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2ï¸âƒ£ ØªØ«Ø¨ÙŠØª Flutter
      - name: Setup Flutter SDK
      #ğŸ“Œ Action Ø¬Ø§Ù‡Ø²Ø© ØªÙ‚ÙˆÙ… Ø¨Ù€:
      # ØªØ­Ù…ÙŠÙ„ Flutter
      # Ø¶Ø¨Ø· PATH
      # ØªÙØ¹ÙŠÙ„ cache
        uses: subosito/flutter-action@v2
        with:
          flutter-version: '3.35.1' # ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
          cache: true
          # âœ… cache = ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ù€ CI

      # 3ï¸âƒ£ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ØµØ¯Ø§Ø± Flutter
      - name: Flutter version
        run: flutter --version

      # 4ï¸âƒ£ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø²Ù…
      - name: Install dependencies
        run: flutter pub get
      #         ğŸ“Œ ÙŠÙ‚ÙˆÙ… Ø¨Ù€:
      # Ù‚Ø±Ø§Ø¡Ø© pubspec.yaml
      # ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ dependencies
      # ğŸš« Ø¨Ø¯ÙˆÙ†Ù‡Ø§:
      # Build ÙŠÙØ´Ù„
      # Tests ØªÙØ´Ù„

      # 5ï¸âƒ£ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯
      - name: Run Flutter Analyze
        run: flutter analyze
      #         ÙŠØªØ­Ù‚Ù‚ Ù…Ù†:
      # Ø£Ø®Ø·Ø§Ø¡ Dart
      # Lints
      # Ù…Ø´Ø§ÙƒÙ„ null-safety
      # ğŸš¨ Ø£ÙŠ Warning Ø­Ø±Ø¬ = ÙØ´Ù„ CI (Ø­Ø³Ø¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯)

      # 6ï¸âƒ£ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
      # - name: Run Flutter Tests
      #   run: flutter test
      #         ğŸ“Œ ÙŠØ´ØºÙ„:
      # Unit Tests
      # Widget Tests
      # ğŸš« Ø¥Ø°Ø§ Test ÙˆØ§Ø­Ø¯ ÙØ´Ù„ â†’ CI ÙŠÙØ´Ù„

      # Ø§Ù„Ù…Ø±Ø­Ù„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ): Build APK
      - name: Build APK
        run: flutter build apk --debug
      #         ğŸ“Œ ÙŠÙ†Ø´Ø¦:
      # Ù…Ù„Ù APK Ù„ØªØ«Ø¨ÙŠØªÙ‡ Ø¹Ù„Ù‰ Ø£Ø¬Ù‡Ø²Ø© Android
      # ğŸš« Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ù€ Build â†’ CI ÙŠÙØ´Ù„
